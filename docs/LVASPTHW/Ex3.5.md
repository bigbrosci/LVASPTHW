# Ex3.5 VASP的输出文件 DOSCAR 

这一节我们简单介绍VASP中另外一个比较重要的输出文件：DOSCAR。 对于分子我们都知道能级，轨道，填充数的这些基本概念。如果你对高斯或者其他均相体系模拟软件有所了解的话，对于DOSCAR，它就是用来描述固体体系中电子的分布情况，具体来说就是体系中不同轨道上的电子密度。在进行简单的讲解之前，我们先结合下面的图去回顾一下OUTCAR的情况，这也是大师兄本人总结的一个学习的基本流程思路，不论是VASP，还是QE，亦或者其他的计算软件。希望大家在学习之前，首先要把思路理清，然后再去学习具体的相关细节。



图片中的内容不难理解，

1） 我们进行计算主要是得到模型的几何以及电子结构相的关性质。而这些性质在哪里？在哪个输出文件中？如何通过输入文件来控制相关的输出？ 这是我们必须要知道的。

2）知道了去哪个文件找结果的时候， 我们就需要了解文件中数据的格式，也就是每一行，每一列多代表的含义，关键信息在哪里？如果我们不知道各行各列的含义，即使有了数据，也是白搭；

3）当我们确定好关键信息的位置后，就需要一些特定的关键词来进行提取，也可以用相应的行数， 尤其是开头和末尾处的关键信息。这个时候，就需要用到一些脚本或者小程序来提高我们的工作效率。

4）我们提取的结果是原始数据，有时候可以直接用来画图或者分析，更多的时候还需要进一步的处理，具体根据我们的需求，比如做一些加减乘除，积分之类的操作获得我们所感兴趣的结果；

5）一旦完成数据的处理之后，我们就需要进行分析，第一步就是要先去确定结果是不是正确的。如果错误，是我们瞎算还是VASP瞎算？如果正确，我们怎么去理解结果背后的物理化学意义？

6）进一步总结我们的结论，纳入自己的知识体系，然后更加形象直观的表述出来，让大家都能理解。 



对于所有VASP的输出文件，我们都需要按照上面的步骤去学习和理解。

第1-2点：DOSCAR的相关介绍以及数据的分布格式，可以参考VASP的官网。

[DOSCAR]: https://www.vasp.at/wiki/index.php/DOSCAR

这里需要注意的有三个INCAR的参数：  [EMIN](https://www.vasp.at/wiki/index.php/EMIN), [EMAX](https://www.vasp.at/wiki/index.php/EMAX) and [NEDOS](https://www.vasp.at/wiki/index.php/NEDOS). 它们代表的是DOS的能量范围，以及在当前范围内数据点的数目。NEDOS默认值是301，有时候画出来的DOS峰比较刺挠，可以增加到1000试试。数值越大，DOSCAR包含的数据越多，文件也就越大，导致读写越来越困难，尤其是体系中原子数目比较多的时候。 

![VASP输出文件的学习思路](figs/ex3.5_1.png)

下面的图简单介绍了DOSCAR开头部分的一些基本性质，后面的内容就是一些针对各个原子重复的部分。

![DOSCAR的数据结构](figs/ex3.5_1.png)

注意的是：图中展示的是体系总的DOS信息，而且列的数目跟自旋，原子的轨道（s,p,d,f）相关，具体的情况要看INCAR的设置，下面是本节例子（去上一节下载）中体系总的DOS以及O原子的DOS信息

```
7-307行: energy     DOS     integrated DOS
309-end行: energy s-DOS(up) s-DOS(down) p-DOS(up) p-DOS(dwn) d-DOS(up) d-DOS(dwn)
```

第3-4点：提取相关的信息，可以自己写一个Python脚本或者使用Pymatgen来直接读取并进行下一步的分析。

第5-6点：这些是跟你学习的专业知识密切相关，基础扎实得到的结果就越好，基础不扎实的就是在胡乱一通分析。



**总结：**

这一节，需要你掌握的并不是去怎么分析DOSCAR的结果，而是先从脑子里建立一个VASP输出结果的学习思路。知道每个输出结果包含什么信息，文档中的数据格式以及它们的含义，关键信息怎么提取。 通过DOSCAR这个简单的例子，去熟悉这一学习的流程，然后我们再一步一步深入学习更加复杂的例子。
